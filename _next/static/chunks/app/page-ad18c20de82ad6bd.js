(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{83814:(e,t,l)=>{"use strict";l.r(t),l.d(t,{default:()=>o});var a=l(95155),s=l(12115);let r=s.forwardRef(function(e,t){let{title:l,titleId:a,...r}=e;return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},r),l?s.createElement("title",{id:a},l):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.182 15.182a4.5 4.5 0 0 1-6.364 0M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0ZM9.75 9.75c0 .414-.168.75-.375.75S9 10.164 9 9.75 9.168 9 9.375 9s.375.336.375.75Zm-.375 0h.008v.015h-.008V9.75Zm5.625 0c0 .414-.168.75-.375.75s-.375-.336-.375-.75.168-.75.375-.75.375.336.375.75Zm-.375 0h.008v.015h-.008V9.75Z"}))});function n(e){let{onImageUpload:t}=e,[l,n]=(0,s.useState)(null),i=(0,s.useRef)(null);return(0,a.jsxs)("div",{className:"flex w-full flex-col items-center rounded-lg border-2 border-dashed border-gray-300 bg-white p-6 text-center shadow-sm md:w-2/5",children:[(0,a.jsx)("input",{type:"file",ref:i,onChange:e=>{var l;let a=null==(l=e.target.files)?void 0:l[0];if(a){let e=new FileReader;e.onloadend=()=>{let l=e.result;n(l),t(l)},e.readAsDataURL(a)}else n(null),t(null)},className:"hidden",accept:"image/png, image/jpeg"}),(0,a.jsx)("div",{className:"mt-4 flex h-48 w-48 items-center justify-center rounded-md bg-gray-100",children:l?(0,a.jsx)("img",{src:l,alt:"Image preview",className:"h-full w-full rounded-md object-cover"}):(0,a.jsx)(r,{className:"h-16 w-16 text-gray-400"})}),(0,a.jsx)("button",{onClick:()=>{var e;null==(e=i.current)||e.click()},className:"mt-4 rounded-md bg-blue-500 px-4 py-2 text-sm font-medium text-white hover:bg-blue-600 cursor-pointer",children:"Choose a File"})]})}function i(e){let{similarity:t}=e;if(null===t)return null;let l=t>=.6?"Match":"No-Match",s="Match"===l;return(0,a.jsxs)("div",{className:"mt-12 w-full max-w-md rounded-lg bg-white p-6 text-center shadow-lg animate-fade-in",children:[(0,a.jsx)("h3",{className:"text-2xl font-bold text-gray-800",children:"Result"}),(0,a.jsxs)("div",{className:"mt-4",children:[(0,a.jsx)("p",{className:"text-lg text-gray-600",children:"Similarity Score:"}),(0,a.jsx)("p",{className:"text-4xl font-mono font-bold text-gray-900",children:t.toFixed(4)})]}),(0,a.jsx)("div",{className:"mt-6",children:(0,a.jsx)("p",{className:"rounded-full px-6 py-2 text-xl font-bold transition-colors duration-300 ".concat(s?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:l})})]})}function o(){let[e,t]=(0,s.useState)(null),[r,o]=(0,s.useState)(null),[d,c]=(0,s.useState)(null),[m,u]=(0,s.useState)(!1),[x,h]=(0,s.useState)(null),[g,f]=(0,s.useState)(!0),[b,w]=(0,s.useState)(null);(0,s.useEffect)(()=>{!async function(){try{let e=await Promise.all([l.e(643),l.e(268),l.e(690),l.e(272),l.e(660),l.e(56),l.e(87),l.e(251),l.e(674),l.e(106),l.e(840),l.e(706)]).then(l.bind(l,31635));w(e),await e.loadModels(),f(!1)}catch(e){console.error(e),h("Failed to load the AI model. Please refresh the page."),f(!1)}}()},[]);let p=async()=>{if(!e||!r||!b)return void h("Please upload both images before comparing.");u(!0),h(null),c(null);try{let t=document.createElement("img");t.src=e,await new Promise(e=>{t.onload=e});let l=document.createElement("img");l.src=r,await new Promise(e=>{l.onload=e});let a=await b.getEmbedding(t),s=await b.getEmbedding(l);if(a&&s){let e=b.cosineSimilarity(a,s);c(e)}else h("Could not generate embeddings for the images.")}catch(e){console.error(e),h("An error occurred during the comparison.")}finally{u(!1)}};return g?(0,a.jsxs)("main",{className:"flex min-h-screen flex-col items-center justify-center p-24 bg-gray-50",children:[(0,a.jsx)("h1",{className:"text-2xl font-semibold text-gray-800",children:"Loading AI Model..."}),(0,a.jsx)("p",{className:"text-gray-600",children:"This may take a moment."})]}):(0,a.jsxs)("main",{className:"flex min-h-screen flex-col items-center p-12 bg-gray-50",children:[(0,a.jsxs)("div",{className:"w-full max-w-4xl text-center",children:[(0,a.jsx)("h1",{className:"text-4xl font-bold text-gray-800 mb-4",children:"SimFace Demo"}),(0,a.jsx)("p",{className:"text-lg text-gray-600 mb-8",children:"Upload two images to calculate how similar the faces are."}),(0,a.jsxs)("div",{className:"mt-12 flex w-full max-w-4xl flex-col items-center gap-8 md:flex-row md:justify-around",children:[(0,a.jsx)(n,{onImageUpload:t}),(0,a.jsx)(n,{onImageUpload:o})]}),(0,a.jsx)("div",{className:"mt-12"}),(0,a.jsx)("button",{onClick:p,disabled:!e||!r||m,className:"px-8 py-4 bg-blue-600 text-white font-semibold rounded-lg shadow-md hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors duration-300",children:m?"Comparing...":"Compare Faces"})]}),x&&(0,a.jsx)("p",{className:"text-red-500 mt-4",children:x}),null!==d&&(0,a.jsx)(i,{similarity:d})]})}},88267:(e,t,l)=>{Promise.resolve().then(l.bind(l,83814))}},e=>{e.O(0,[441,255,358],()=>e(e.s=88267)),_N_E=e.O()}]);